#include <Vars.h>

// todo: read map from file?
// Global map variable
Map grid;

void initMap() {
    grid.tiles = malloc(GRID_ROWS * sizeof(char *));

    for (int i = 0; i < GRID_ROWS; i++) {
        for (int j = 0; j < GRID_COLS; j++) {
            grid.tiles[i][j] = rawMap[i][j];
        }
    }
}

char getTile(int x, int y) {
    if (x > GRID_ROWS &&  y > GRID_COLS)
    {
        return;
    }

    return grid.tiles[y][x];
}

void setTile(int x, int y) {
    if (x > GRID_ROWS &&  y > GRID_COLS)
    {
        return;
    }

    return grid.tiles[y][x];
}

void destroyMap() {
    for (int i = 0; i < GRID_ROWS; i++)
    {
        free(grid.tiles[i]);
    }
    free(grid.tiles);
}


const char* rawMap[GRID_ROWS][GRID_COLS+1] ={
"#############################",
"#############################",
"##           ###           ##",
"## ### ##### ### ##### ### ##",
"## ### ##### ### ##### ### ##",
"##                         ##",
"## ### ## ######### ## ### ##",
"## ### ## ######### ## ### ##",
"##     ##     ##     ##    ##",
"###### ###### ## ##### ######",
"###### ###### ## ##### ######",
"###### ##              ######",
"###### ## ###---### ## ######",
"###### ## ##     ## ## ######",
"###### ## ##     ## ## ######",
"O      ## ##     ## ##      O",
"###### ## ##     ## ## ######",
"###### ## ##     ## ## ######",
"###### ## ######### ## ######",
"###### ##              ######",
"###### ###### ## ##### ######",
"###### ###### ## ##### ######",
"##     ##     ##     ##    ##",
"## ### ## ######### ## ### ##",
"## ### ## ######### ## ### ##",
"##                         ##",
"## ### ##### ### ##### ### ##",
"## ### ##### ### ##### ### ##",
"##           ###           ##",
"#############################",
"#############################",
};



/*const char* map[GRID_ROWS][GRID_COLS+1] ={
"#############################",
"#############################",
"## * * * * * ### * * * * * ##",
"## ### ##### ### ##### ### ##",
"##*###*##### ###*#####*###*##",
"##* * * * * *  * * * * * * ##",
"## ### ## ######### ## ### ##",
"##*### ##*#########*##*###*##",
"##* * *## * * ## *  ##* * *##",
"###### ###### ## ##### ######",
"######*###### ## ##### ######",
"###### ##  * * * * * * ######",
"######*##*###---###*## ######",
"###### ## ##     ## ## ######",
"######*##*##     ## ##*######",
"O      ##*##     ## ##      O",
"######*##*##     ## ##*######",
"###### ## ##     ## ## ######",
"######*##*#########*## ######",
"###### ##  * * * * * * ######",
"######*###### ## ##### ######",
"###### ###### ## ##### ######",
"##* * *## * * ## *  ##* * *##",
"##*### ##*#########*##*### ##",
"## ### ## ######### ## ### ##",
"##* * * * * *  * * * * * * ##",
"##*###*##### ###*#####*###*##",
"## ### ##### ### ##### ### ##",
"## * * * * * ### * * * * * ##",
"#############################",
"#############################",
};
*/
